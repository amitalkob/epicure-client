{"ast":null,"code":"import _regeneratorRuntime from\"/Users/amitalkobi/Projects/epicure/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/amitalkobi/Projects/epicure/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/amitalkobi/Projects/epicure/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Restaurant from\"../components/Restaurants/Restaurant\";import{useMediaQuery}from\"react-responsive\";import{useEffect,useState}from\"react\";import axios from\"axios\";import{useLocation}from\"react-router\";import qs from\"querystring\";import{jsx as _jsx}from\"react/jsx-runtime\";var RestaurantPage=function RestaurantPage(){var _useLocation=useLocation(),state=_useLocation.state;var isDesktopScreen=useMediaQuery({query:\"(min-width: 600px)\"});var _useState=useState(),_useState2=_slicedToArray(_useState,2),restaurant=_useState2[0],setRestaurant=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),dishes=_useState4[0],setDishes=_useState4[1];useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var rest,headers,dishes;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios(\"http://localhost:3001/api/v1/restaurants/\"+state.id);case 2:rest=_context.sent;setRestaurant(rest.data);headers={\"Content-Type\":\"application/x-www-form-urlencoded\"};_context.next=7;return axios.post(\"http://localhost:3001/api/v1/dishes/get-dishes-by-rest\",qs.stringify({restId:state.id}),{headers:headers});case 7:dishes=_context.sent;setDishes(dishes.data);case 9:case\"end\":return _context.stop();}}},_callee);}))();},[state]);return/*#__PURE__*/_jsx(Restaurant,{rest:restaurant,dishes:dishes,isDesktop:isDesktopScreen});};export default RestaurantPage;","map":{"version":3,"sources":["/Users/amitalkobi/Projects/epicure/src/pages/RestaurantPage.tsx"],"names":["Restaurant","useMediaQuery","useEffect","useState","axios","useLocation","qs","RestaurantPage","state","isDesktopScreen","query","restaurant","setRestaurant","dishes","setDishes","id","rest","data","headers","post","stringify","restId"],"mappings":"4VAAA,MAAOA,CAAAA,UAAP,KAAuB,sCAAvB,CACA,OAASC,aAAT,KAA8B,kBAA9B,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,cAA5B,CACA,MAAOC,CAAAA,EAAP,KAAe,aAAf,C,2CAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B,iBAAkBF,WAAW,EAA7B,CAAQG,KAAR,cAAQA,KAAR,CACA,GAAMC,CAAAA,eAAe,CAAGR,aAAa,CAAC,CAAES,KAAK,CAAE,oBAAT,CAAD,CAArC,CACA,cAAoCP,QAAQ,EAA5C,wCAAOQ,UAAP,eAAmBC,aAAnB,eACA,eAA4BT,QAAQ,CAAM,EAAN,CAApC,yCAAOU,MAAP,eAAeC,SAAf,eAEAZ,SAAS,CAAC,UAAM,CACd,wDAAC,iLACoBE,CAAAA,KAAK,CACtB,4CAA8CI,KAAK,CAACO,EAD9B,CADzB,QACOC,IADP,eAICJ,aAAa,CAACI,IAAI,CAACC,IAAN,CAAb,CAEMC,OANP,CAMiB,CACd,eAAgB,mCADF,CANjB,uBAUsBd,CAAAA,KAAK,CAACe,IAAN,CACnB,wDADmB,CAEnBb,EAAE,CAACc,SAAH,CAAa,CAAEC,MAAM,CAAEb,KAAK,CAACO,EAAhB,CAAb,CAFmB,CAGnB,CAAEG,OAAO,CAAEA,OAAX,CAHmB,CAVtB,QAUOL,MAVP,eAeCC,SAAS,CAACD,MAAM,CAACI,IAAR,CAAT,CAfD,sDAAD,KAiBD,CAlBQ,CAkBN,CAACT,KAAD,CAlBM,CAAT,CAoBA,mBACE,KAAC,UAAD,EAAY,IAAI,CAAEG,UAAlB,CAA8B,MAAM,CAAEE,MAAtC,CAA8C,SAAS,CAAEJ,eAAzD,EADF,CAGD,CA7BD,CA+BA,cAAeF,CAAAA,cAAf","sourcesContent":["import Restaurant from \"../components/Restaurants/Restaurant\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useLocation } from \"react-router\";\nimport qs from \"querystring\";\n\nconst RestaurantPage = () => {\n  const { state } = useLocation();\n  const isDesktopScreen = useMediaQuery({ query: \"(min-width: 600px)\" });\n  const [restaurant, setRestaurant] = useState<any>();\n  const [dishes, setDishes] = useState<any>([]);\n\n  useEffect(() => {\n    (async () => {\n      const rest = await axios(\n        \"http://localhost:3001/api/v1/restaurants/\" + state.id\n      );\n      setRestaurant(rest.data);\n\n      const headers = {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n      };\n\n      const dishes = await axios.post(\n        \"http://localhost:3001/api/v1/dishes/get-dishes-by-rest\",\n        qs.stringify({ restId: state.id }),\n        { headers: headers }\n      );\n      setDishes(dishes.data);\n    })();\n  }, [state]);\n\n  return (\n    <Restaurant rest={restaurant} dishes={dishes} isDesktop={isDesktopScreen} />\n  );\n};\n\nexport default RestaurantPage;\n"]},"metadata":{},"sourceType":"module"}