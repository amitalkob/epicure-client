{"ast":null,"code":"import _objectSpread from\"/Users/amitalkobi/Projects/epicure/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/amitalkobi/Projects/epicure/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/amitalkobi/Projects/epicure/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/amitalkobi/Projects/epicure/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Controller,useForm}from\"react-hook-form\";import Input from\"@mui/material/Input\";import Button from\"@mui/material/Button\";import axios from\"axios\";import\"./AddEdit.scss\";import{useNavigate}from\"react-router\";import{Box}from\"@mui/system\";import{FormControl,InputLabel,MenuItem,Select}from\"@mui/material\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddEditDish=function AddEditDish(){var id=window.location.pathname.split(\"/\")[3];var isAddMode=!id;var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rests=_useState2[0],setRests=_useState2[1];var _useForm=useForm({defaultValues:{name:\"\",text:\"\",pic:\"\",icons:\"\",price:\"\",restaurant:\"\"},mode:\"all\"}),control=_useForm.control,handleSubmit=_useForm.handleSubmit,register=_useForm.register,reset=_useForm.reset,setValue=_useForm.setValue,errors=_useForm.formState.errors;var createQueryString=function createQueryString(rest){return Object.keys(rest).map(function(key){var val=rest[key];if(val!==null&&typeof val===\"object\")val=createQueryString(val);return\"\".concat(key,\"=\").concat(encodeURIComponent(\"\".concat(val).replace(/\\s/g,\" \")));}).join(\"&\");};var onSubmit=function onSubmit(dish){var qs=createQueryString(dish);isAddMode?createDish(qs):updateDish(id,qs);navigate(\"/admin\");};var createDish=function createDish(dish){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var headers;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:headers={\"Content-Type\":\"application/x-www-form-urlencoded\"};_context.next=3;return axios.post(\"http://localhost:3001/api/v1/dishes\",dish,{headers:headers});case 3:case\"end\":return _context.stop();}}},_callee);}))();};var updateDish=function updateDish(id,dish){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var headers;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:headers={\"Content-Type\":\"application/x-www-form-urlencoded\"};_context2.next=3;return axios.put(\"http://localhost:3001/api/v1/dishes/\"+id,dish,{headers:headers});case 3:case\"end\":return _context2.stop();}}},_callee2);}))();};useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var rests;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios(\"http://localhost:3001/api/v1/restaurants\");case 2:rests=_context3.sent;setRests(rests.data);case 4:case\"end\":return _context3.stop();}}},_callee3);}))();},[]);useEffect(function(){if(!isAddMode){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var res,fields;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios(\"http://localhost:3001/api/v1/dishes/\"+id);case 2:res=_context4.sent;fields=[\"name\",\"text\",\"pic\",\"icons\",\"price\"];fields.forEach(function(field){return setValue(field,res.data[field]);});setValue(\"restaurant\",res.data.restaurant.name);case 6:case\"end\":return _context4.stop();}}},_callee4);}))();}},[id,isAddMode,setValue]);return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),onReset:reset,className:\"rest-form\",children:[/*#__PURE__*/_jsx(\"h1\",{children:isAddMode?\"Add Dish\":\"Edit Dish\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(Controller,{name:\"name\",control:control,rules:{required:true,maxLength:20},render:function render(){return/*#__PURE__*/_jsx(Input,_objectSpread({},register(\"name\")));}})]}),errors.name&&errors.name.type===\"required\"&&/*#__PURE__*/_jsx(\"span\",{role:\"alert\",className:\"input-error\",children:\"Name is required\"}),errors.name&&errors.name.type===\"maxLength\"&&/*#__PURE__*/_jsx(\"span\",{role:\"alert\",className:\"input-error\",children:\"Name length should be less than 20 characters\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(Controller,{name:\"text\",control:control,rules:{required:true},render:function render(){return/*#__PURE__*/_jsx(Input,_objectSpread({},register(\"text\")));}})]}),errors.text&&errors.text.type===\"required\"&&/*#__PURE__*/_jsx(\"span\",{role:\"alert\",className:\"input-error\",children:\"Description is required\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Picture\"}),/*#__PURE__*/_jsx(Controller,{name:\"pic\",control:control,rules:{required:true},render:function render(){return/*#__PURE__*/_jsx(Input,_objectSpread({},register(\"pic\")));}})]}),errors.pic&&errors.pic.type===\"required\"&&/*#__PURE__*/_jsx(\"span\",{role:\"alert\",className:\"input-error\",children:\"Picture is required\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Icons\"}),/*#__PURE__*/_jsx(Controller,{name:\"icons\",control:control,render:function render(){return/*#__PURE__*/_jsx(Input,_objectSpread({},register(\"icons\")));}})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Price\"}),/*#__PURE__*/_jsx(Controller,{name:\"price\",control:control,render:function render(){return/*#__PURE__*/_jsx(Input,_objectSpread({},register(\"price\")));}})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Restaurant\"}),/*#__PURE__*/_jsx(Controller,{name:\"restaurant\",control:control,rules:{required:true},render:function render(){return/*#__PURE__*/_jsx(Box,{sx:{minWidth:165},children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"demo-simple-select-label\",children:\"Restaurant\"}),/*#__PURE__*/_jsx(Select,_objectSpread(_objectSpread({},register(\"restaurant\")),{},{labelId:\"demo-simple-select-label\",id:\"demo-simple-select\",label:\"Restaurant\",children:rests.map(function(rest,index){return/*#__PURE__*/_jsx(MenuItem,{value:rest,children:rest.name},index);})}))]})});}})]}),errors.restaurant&&errors.restaurant.type===\"required\"&&/*#__PURE__*/_jsx(\"span\",{role:\"alert\",className:\"input-error\",children:\"Restaurant is required\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"input-button-cont\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",children:\"Save\"})})]});};export default AddEditDish;","map":{"version":3,"sources":["/Users/amitalkobi/Projects/epicure/src/components/AddEdit/AddEditDish.tsx"],"names":["React","useEffect","useState","Controller","useForm","Input","Button","axios","useNavigate","Box","FormControl","InputLabel","MenuItem","Select","AddEditDish","id","window","location","pathname","split","isAddMode","navigate","rests","setRests","defaultValues","name","text","pic","icons","price","restaurant","mode","control","handleSubmit","register","reset","setValue","errors","formState","createQueryString","rest","Object","keys","map","key","val","encodeURIComponent","replace","join","onSubmit","dish","qs","createDish","updateDish","headers","post","put","data","res","fields","forEach","field","required","maxLength","type","minWidth","index"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport Input from \"@mui/material/Input\";\nimport Button from \"@mui/material/Button\";\nimport axios from \"axios\";\nimport \"./AddEdit.scss\";\nimport { useNavigate } from \"react-router\";\nimport { Box } from \"@mui/system\";\nimport { FormControl, InputLabel, MenuItem, Select } from \"@mui/material\";\n\nconst AddEditDish = () => {\n  const id = window.location.pathname.split(\"/\")[3];\n  const isAddMode = !id;\n  const navigate = useNavigate();\n  const [rests, setRests] = useState<any>([]);\n\n  const {\n    control,\n    handleSubmit,\n    register,\n    reset,\n    setValue,\n    formState: { errors },\n  }: any = useForm({\n    defaultValues: {\n      name: \"\",\n      text: \"\",\n      pic: \"\",\n      icons: \"\",\n      price: \"\",\n      restaurant: \"\",\n    },\n    mode: \"all\",\n  });\n\n  const createQueryString = (rest: any) => {\n    return Object.keys(rest)\n      .map((key) => {\n        let val = rest[key];\n        if (val !== null && typeof val === \"object\")\n          val = createQueryString(val);\n        return `${key}=${encodeURIComponent(`${val}`.replace(/\\s/g, \" \"))}`;\n      })\n      .join(\"&\");\n  };\n\n  const onSubmit = (dish: any) => {\n    const qs = createQueryString(dish);\n    isAddMode ? createDish(qs) : updateDish(id, qs);\n    navigate(\"/admin\");\n  };\n\n  const createDish = (dish: any) => {\n    (async () => {\n      const headers = {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n      };\n\n      await axios.post(\"http://localhost:3001/api/v1/dishes\", dish, {\n        headers: headers,\n      });\n    })();\n  };\n\n  const updateDish = (id: string, dish: any) => {\n    (async () => {\n      const headers = {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n      };\n\n      await axios.put(\"http://localhost:3001/api/v1/dishes/\" + id, dish, {\n        headers: headers,\n      });\n    })();\n  };\n\n  useEffect(() => {\n    (async () => {\n      const rests = await axios(\"http://localhost:3001/api/v1/restaurants\");\n      setRests(rests.data);\n    })();\n  }, []);\n\n  useEffect(() => {\n    if (!isAddMode) {\n      (async () => {\n        const res = await axios(\"http://localhost:3001/api/v1/dishes/\" + id);\n        const fields = [\"name\", \"text\", \"pic\", \"icons\", \"price\"];\n        fields.forEach((field) => setValue(field, res.data[field]));\n        setValue(\"restaurant\", res.data.restaurant.name);\n      })();\n    }\n  }, [id, isAddMode, setValue]);\n\n  return (\n    <form\n      onSubmit={handleSubmit(onSubmit)}\n      onReset={reset}\n      className=\"rest-form\"\n    >\n      <h1>{isAddMode ? \"Add Dish\" : \"Edit Dish\"}</h1>\n      <div className=\"input-container\">\n        <div>\n          <div className=\"input-field\">\n            <label>Name</label>\n            <Controller\n              name=\"name\"\n              control={control}\n              rules={{ required: true, maxLength: 20 }}\n              render={() => <Input {...register(\"name\")} />}\n            />\n          </div>\n          {errors.name && errors.name.type === \"required\" && (\n            <span role=\"alert\" className=\"input-error\">\n              Name is required\n            </span>\n          )}\n          {errors.name && errors.name.type === \"maxLength\" && (\n            <span role=\"alert\" className=\"input-error\">\n              Name length should be less than 20 characters\n            </span>\n          )}\n        </div>\n        <div>\n          <div className=\"input-field\">\n            <label>Description</label>\n            <Controller\n              name=\"text\"\n              control={control}\n              rules={{ required: true }}\n              render={() => <Input {...register(\"text\")} />}\n            />\n          </div>\n          {errors.text && errors.text.type === \"required\" && (\n            <span role=\"alert\" className=\"input-error\">\n              Description is required\n            </span>\n          )}\n        </div>\n        <div>\n          <div className=\"input-field\">\n            <label>Picture</label>\n            <Controller\n              name=\"pic\"\n              control={control}\n              rules={{ required: true }}\n              render={() => <Input {...register(\"pic\")} />}\n            />\n          </div>\n          {errors.pic && errors.pic.type === \"required\" && (\n            <span role=\"alert\" className=\"input-error\">\n              Picture is required\n            </span>\n          )}\n        </div>\n        <div>\n          <div className=\"input-field\">\n            <label>Icons</label>\n            <Controller\n              name=\"icons\"\n              control={control}\n              render={() => <Input {...register(\"icons\")} />}\n            />\n          </div>\n        </div>\n        <div>\n          <div className=\"input-field\">\n            <label>Price</label>\n            <Controller\n              name=\"price\"\n              control={control}\n              render={() => <Input {...register(\"price\")} />}\n            />\n          </div>\n        </div>\n        <div>\n          <div className=\"input-field\">\n            <label>Restaurant</label>\n            <Controller\n              name=\"restaurant\"\n              control={control}\n              rules={{ required: true }}\n              render={() => (\n                <Box sx={{ minWidth: 165 }}>\n                  <FormControl fullWidth>\n                    <InputLabel id=\"demo-simple-select-label\">\n                      Restaurant\n                    </InputLabel>\n                    <Select\n                      {...register(\"restaurant\")}\n                      labelId=\"demo-simple-select-label\"\n                      id=\"demo-simple-select\"\n                      label=\"Restaurant\"\n                    >\n                      {rests.map((rest: any, index: number) => {\n                        return (\n                          <MenuItem value={rest} key={index}>\n                            {rest.name}\n                          </MenuItem>\n                        );\n                      })}\n                    </Select>\n                  </FormControl>\n                </Box>\n              )}\n            />\n          </div>\n          {errors.restaurant && errors.restaurant.type === \"required\" && (\n            <span role=\"alert\" className=\"input-error\">\n              Restaurant is required\n            </span>\n          )}\n        </div>\n      </div>\n      <div className=\"input-button-cont\">\n        <Button type=\"submit\" variant=\"contained\">\n          Save\n        </Button>\n      </div>\n    </form>\n  );\n};\n\nexport default AddEditDish;\n"]},"metadata":{},"sourceType":"module"}