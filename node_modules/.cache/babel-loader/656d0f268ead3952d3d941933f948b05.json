{"ast":null,"code":"import _regeneratorRuntime from\"/Users/amitalkobi/GitHub/epicure-client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/amitalkobi/GitHub/epicure-client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/amitalkobi/GitHub/epicure-client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from\"react\";import\"./RegisterPage.scss\";import axios from\"axios\";import qs from\"querystring\";import{useNavigate}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RegisterPage=function RegisterPage(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),message=_useState8[0],setMessage=_useState8[1];var navigate=useNavigate();var handleSubmit=function handleSubmit(event){event.preventDefault();_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var headers,details,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:headers={\"Content-Type\":\"application/x-www-form-urlencoded\"};details={name:name,email:email,password:password};_context.next=4;return axios.post(\"http://localhost:3001/api/v1/users/register\",qs.stringify(details),{headers:headers});case 4:res=_context.sent;setMessage(res.data.type);console.log(res);if(message===\"\"){navigate(\"/\");}case 8:case\"end\":return _context.stop();}}},_callee);}))();};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"login-form\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Register to Epicure\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-input\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Full Name: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"name\",id:\"name\",onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-input\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"E-Mail: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-input\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{className:\"login-button\",children:\"Register\"})]});};export default RegisterPage;","map":{"version":3,"sources":["/Users/amitalkobi/GitHub/epicure-client/src/pages/RegisterPage/RegisterPage.tsx"],"names":["useState","axios","qs","useNavigate","RegisterPage","name","setName","email","setEmail","password","setPassword","message","setMessage","navigate","handleSubmit","event","preventDefault","headers","details","post","stringify","res","data","type","console","log","e","target","value"],"mappings":"2WAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,MAAO,qBAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,EAAP,KAAe,aAAf,CACA,OAASC,WAAT,KAA4B,cAA5B,C,wFAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,cAAwBJ,QAAQ,CAAC,EAAD,CAAhC,wCAAOK,IAAP,eAAaC,OAAb,eACA,eAA0BN,QAAQ,CAAC,EAAD,CAAlC,yCAAOO,KAAP,eAAcC,QAAd,eACA,eAAgCR,QAAQ,CAAC,EAAD,CAAxC,yCAAOS,QAAP,eAAiBC,WAAjB,eACA,eAA8BV,QAAQ,CAAC,EAAD,CAAtC,yCAAOW,OAAP,eAAgBC,UAAhB,eACA,GAAMC,CAAAA,QAAQ,CAAGV,WAAW,EAA5B,CAEA,GAAMW,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAgB,CACnCA,KAAK,CAACC,cAAN,GACA,wDAAC,2JACOC,OADP,CACiB,CACd,eAAgB,mCADF,CADjB,CAKOC,OALP,CAKiB,CACdb,IAAI,CAAEA,IADQ,CAEdE,KAAK,CAAEA,KAFO,CAGdE,QAAQ,CAAEA,QAHI,CALjB,uBAUmBR,CAAAA,KAAK,CAACkB,IAAN,CAChB,6CADgB,CAEhBjB,EAAE,CAACkB,SAAH,CAAaF,OAAb,CAFgB,CAGhB,CAAED,OAAO,CAAEA,OAAX,CAHgB,CAVnB,QAUOI,GAVP,eAeCT,UAAU,CAACS,GAAG,CAACC,IAAJ,CAASC,IAAV,CAAV,CACAC,OAAO,CAACC,GAAR,CAAYJ,GAAZ,EACA,GAAIV,OAAO,GAAK,EAAhB,CAAoB,CAClBE,QAAQ,CAAC,GAAD,CAAR,CACD,CAnBF,sDAAD,KAqBD,CAvBD,CAyBA,mBACE,cAAM,QAAQ,CAAEC,YAAhB,CAA8B,SAAS,CAAC,YAAxC,wBACE,2CADF,cAEE,aAAK,SAAS,CAAC,aAAf,wBACE,cAAO,OAAO,CAAC,OAAf,yBADF,cAEE,cACE,IAAI,CAAC,MADP,CAEE,EAAE,CAAC,MAFL,CAGE,QAAQ,CAAE,kBAACY,CAAD,QAAOpB,CAAAA,OAAO,CAACoB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,EAHZ,EAFF,GAFF,cAUE,aAAK,SAAS,CAAC,aAAf,wBACE,cAAO,OAAO,CAAC,OAAf,sBADF,cAEE,cACE,IAAI,CAAC,OADP,CAEE,EAAE,CAAC,OAFL,CAGE,QAAQ,CAAE,kBAACF,CAAD,QAAOlB,CAAAA,QAAQ,CAACkB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf,EAHZ,EAFF,GAVF,cAkBE,aAAK,SAAS,CAAC,aAAf,wBACE,cAAO,OAAO,CAAC,UAAf,wBADF,cAEE,cACE,IAAI,CAAC,UADP,CAEE,EAAE,CAAC,UAFL,CAGE,QAAQ,CAAE,kBAACF,CAAD,QAAOhB,CAAAA,WAAW,CAACgB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAHZ,EAFF,GAlBF,cA0BE,eAAQ,SAAS,CAAC,cAAlB,sBA1BF,GADF,CA8BD,CA9DD,CAgEA,cAAexB,CAAAA,YAAf","sourcesContent":["import { useState } from \"react\";\nimport \"./RegisterPage.scss\";\nimport axios from \"axios\";\nimport qs from \"querystring\";\nimport { useNavigate } from \"react-router\";\n\nconst RegisterPage = () => {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const navigate = useNavigate();\n\n  const handleSubmit = (event: any) => {\n    event.preventDefault();\n    (async () => {\n      const headers = {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n      };\n\n      const details = {\n        name: name,\n        email: email,\n        password: password,\n      };\n      const res = await axios.post(\n        \"http://localhost:3001/api/v1/users/register\",\n        qs.stringify(details),\n        { headers: headers }\n      );\n      setMessage(res.data.type);\n      console.log(res);\n      if (message === \"\") {\n        navigate(\"/\");\n      }\n    })();\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"login-form\">\n      <h3>Register to Epicure</h3>\n      <div className=\"login-input\">\n        <label htmlFor=\"email\">Full Name: </label>\n        <input\n          type=\"name\"\n          id=\"name\"\n          onChange={(e) => setName(e.target.value)}\n        />\n      </div>\n      <div className=\"login-input\">\n        <label htmlFor=\"email\">E-Mail: </label>\n        <input\n          type=\"email\"\n          id=\"email\"\n          onChange={(e) => setEmail(e.target.value)}\n        />\n      </div>\n      <div className=\"login-input\">\n        <label htmlFor=\"password\">Password: </label>\n        <input\n          type=\"password\"\n          id=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n        />\n      </div>\n      <button className=\"login-button\">Register</button>\n    </form>\n  );\n};\n\nexport default RegisterPage;\n"]},"metadata":{},"sourceType":"module"}